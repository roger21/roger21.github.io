

# Le nombre de posts et de participants sur le topic COVID-19 en fonction du temps

unset multiplot
reset session
reset
set encoding utf8
set terminal svg size 1600, 900 dynamic mouse jsdir "" name "graph_counts_20200506022617" font "Verdana,Arial,Sans-serif,Helvetica,14" dashlength 2 linewidth 1 background "#ffffff"
set output "graph_counts_20200506022617.svg"
set title "{/:Bold=18 Le nombre de posts et de participants sur le topic COVID-19 en fonction du temps\n{/:Bold=14 (données collectées le mercredi 6 mai 2020 à 2:26:17)"
set ylabel "{/=16 le nombre de posts"
set y2label "{/=16 le nombre de posts roses et de participants"
set key at 1579608000, 275000 center left Left opaque reverse invert samplen 3 box spacing 1.2 width -7
set xtics 1579478400, 604800
set xtics add ("lundi\n20/01/20" 1579478400, "lundi\n27/01/20" 1580083200, "lundi\n03/02/20" 1580688000, "lundi\n10/02/20" 1581292800, "lundi\n17/02/20" 1581897600, "lundi\n24/02/20" 1582502400, "lundi\n02/03/20" 1583107200, "lundi\n09/03/20" 1583712000, "lundi\n16/03/20" 1584316800, "lundi\n23/03/20" 1584921600, "lundi\n30/03/20" 1585526400, "lundi\n06/04/20" 1586131200, "lundi\n13/04/20" 1586736000, "lundi\n20/04/20" 1587340800, "lundi\n27/04/20" 1587945600, "lundi\n04/05/20" 1588550400, "lundi\n11/05/20" 1589155200)
set mxtics 7
set ytics 0, 25000
set mytics 5
set y2tics 0, 500
set link y2 via y / 50 inverse y * 50
set grid xtics mxtics ytics mytics back lc "#3f3f3f", lc "#9f9f9f"

set size 1,.94
set origin 0,.06

minus(s) = sprintf("{/:Bold=12 %.f", s)
bigger(s) = sprintf("{/:Bold=16 %.f", s)

set label "{/=12^* les participants ayant posté au cours de la dernière semaine avant la collecte" at screen .99,.02 right

plot [1579478400:1589155200][0:300000] \
"data_count_participants_active_20200506022617.txt" u 1:2 axes x1y2 w line lw 2 lc rgbcolor "#7f3fff" dt (4, 4) title "{/:Bold le nombre de participants toujours actifs ^*", \
"data_count_participants_20200506022617.txt" u 1:2 axes x1y2 w line lw 2 lc rgbcolor "#7f5fff" title "{/:Bold le nombre de participants", \
"data_count_roses_20200506022617.txt" axes x1y2 w line lw 2 lc rgbcolor "#3faf3f" title "{/:Bold le nombre de posts roses", \
"data_count_posts_20200506022617.txt" w line lw 2 lc rgbcolor "#ff7f00" title "{/:Bold le nombre de posts", \
"data_count_participants_20200506022617.txt" every 200::99::899 u 1:2:(minus($2)) axes x1y2 w labels right tc rgbcolor "#7f5fff" point lc rgbcolor "#7f5fff" pt 7 ps .5 offset -1.125,.25 notitle, \
"data_count_participants_20200506022617.txt" every 200::1099 u 1:2:(minus($2)) axes x1y2 w labels left tc rgbcolor "#7f5fff" point lc rgbcolor "#7f5fff" pt 7 ps .5 offset 0,-.75 notitle, \
"data_count_participants_20200506022617.txt" every ::2463::2463 u 1:2:(bigger($2)) axes x1y2 w labels left tc rgbcolor "#7f5fff" point lc rgbcolor "#7f5fff" pt 7 ps 1 offset .5,-.25 notitle, \
"data_count_participants_active_20200506022617.txt" every 200::99::99 u 1:2:(minus($2)) axes x1y2 w labels left tc rgbcolor "#7f3fff" point lc rgbcolor "#7f3fff" pt 7 ps .5 offset .35,-.35 notitle, \
"data_count_participants_active_20200506022617.txt" every 200::299::299 u 1:2:(minus($2)) axes x1y2 w labels left tc rgbcolor "#7f3fff" point lc rgbcolor "#7f3fff" pt 7 ps .5 offset 0,.25 notitle, \
"data_count_participants_active_20200506022617.txt" every 200::499::1099 u 1:2:(minus($2)) axes x1y2 w labels left tc rgbcolor "#7f3fff" point lc rgbcolor "#7f3fff" pt 7 ps .5 offset 0,-.75 notitle, \
"data_count_participants_active_20200506022617.txt" every ::713::713 u 1:2:(bigger($2)) axes x1y2 w labels left tc rgbcolor "#7f3fff" point lc rgbcolor "#7f3fff" pt 7 ps 1 offset .5,-.25 notitle, \
"data_count_roses_20200506022617.txt" every 25::24 u 1:2:(minus($2)) axes x1y2 w labels right tc rgbcolor "#3faf3f" point lc rgbcolor "#3faf3f" pt 7 ps .5 offset -1.125,.25 notitle, \
"data_count_roses_20200506022617.txt" every ::382::382 u 1:2:(bigger($2)) axes x1y2 w labels left tc rgbcolor "#3faf3f" point lc rgbcolor "#3faf3f" pt 7 ps 1 offset .5,-.25 notitle, \
"data_count_posts_20200506022617.txt" every ::284964::284964 u 1:2:(bigger($2)) w labels left tc rgbcolor "#ff7f00" point lc rgbcolor "#ff7f00" pt 7 ps 1 offset .5,-.25 notitle

set output


# L'évolution du nombre de participants toujours actifs sur le topic COVID-19

unset multiplot
reset session
reset
set encoding utf8
set terminal svg size 1600, 900 dynamic mouse jsdir "" name "graph_evol_participants_20200506022617" font "Verdana,Arial,Sans-serif,Helvetica,14" dashlength 2 linewidth 1 background "#ffffff"
set output "graph_evol_participants_20200506022617.svg"
set multiplot title "{/:Bold=18 L'évolution du nombre de participants toujours actifs sur le topic COVID-19\n{/:Bold=14 (données collectées le mercredi 6 mai 2020 à 2:26:17)"
set xtics 1579478400, 604800
set xtics add ("lundi\n20/01/20" 1579478400, "lundi\n27/01/20" 1580083200, "lundi\n03/02/20" 1580688000, "lundi\n10/02/20" 1581292800, "lundi\n17/02/20" 1581897600, "lundi\n24/02/20" 1582502400, "lundi\n02/03/20" 1583107200, "lundi\n09/03/20" 1583712000, "lundi\n16/03/20" 1584316800, "lundi\n23/03/20" 1584921600, "lundi\n30/03/20" 1585526400, "lundi\n06/04/20" 1586131200, "lundi\n13/04/20" 1586736000, "lundi\n20/04/20" 1587340800, "lundi\n27/04/20" 1587945600, "lundi\n04/05/20" 1588550400, "lundi\n11/05/20" 1589155200)
set mxtics 7
set grid xtics mxtics ytics mytics back lc "#3f3f3f", lc "#9f9f9f"
set style fill transparent solid .4

minus(s) = sprintf("{/:Bold=12 %.f}", s)
bigger(s) = sprintf("{/:Bold=16 %.f", s)

set label "{/=12^* à l'exclusion des dernières participations ayant eu lieu au cours de la dernière semaine avant la collecte" at screen .99,.02 right

set ylabel "{/=16 le nombre de participants"
set key at 1579608000, 2650 center left Left opaque reverse samplen 3 box spacing 1.2 width -7
set ytics 0, 500
set mytics 5

set size .99,.559
set origin 0,.390

plot [1579478400:1589155200][0:3000] \
"data_evol_participants_20200506022617.txt" u 1:2 w lines lw 2 lc rgbcolor "#003fbf" title "{/:Bold le nombre de premières participations", \
"data_evol_participants_20200506022617.txt" u 1:3 w lines lw 2 lc rgbcolor "#bf3f3f" title "{/:Bold le nombre de dernières participations ^*", \
"data_evol_participants_20200506022617.txt" u 1:2:3 w filledcurves lw 2 lc rgbcolor "#7f3fff" title "{/:Bold le nombre de participants toujours actifs", \
"data_evol_participants_labels_20200506022617.txt" u 1:2:(minus($2)) w labels right tc rgbcolor "#003fbf" point lc rgbcolor "#003fbf" pt 7 ps .5 offset -1.125,.25 notitle, \
"data_evol_participants_labels_20200506022617.txt" u 1:3:(minus($3)) w labels right tc rgbcolor "#bf3f3f" point lc rgbcolor "#bf3f3f" pt 7 ps .5 offset -1.125,.25 notitle, \
"data_evol_participants_20200506022617.txt" every ::4213::4213 u 1:2:(bigger($2)) w labels left tc rgbcolor "#003fbf" point lc rgbcolor "#003fbf" pt 7 ps 1 offset .5,-.25 notitle, \
"data_evol_participants_20200506022617.txt" every ::4213::4213 u 1:3:(bigger($3)) w labels left tc rgbcolor "#bf3f3f" point lc rgbcolor "#bf3f3f" pt 7 ps 1 offset .5,-.25 notitle

set sample 10000
set ylabel "{/=16 le nombre de participants toujours actifs"
set key at 1579608000, 1300 center left Left opaque reverse samplen 3 box spacing 1.2 width -7
set ytics 0, 500
set mytics 5

set size .99,.321
set origin 0,.06

plot [1579478400:1589155200][0:1500] \
"data_evol_participants_20200506022617.txt" u 1:4 smooth bezier lw 2 lc rgbcolor "#7f3fff" title "{/:Bold le nombre de participants toujours actifs", \
"data_evol_participants_labels_20200506022617.txt" u 1:4:(minus($4)) w labels right tc rgbcolor "#7f3fff" point lc rgbcolor "#7f3fff" pt 7 ps .5 offset -1.125,.25 notitle, \
"data_evol_participants_20200506022617.txt" every ::4213::4213 u 1:4:(bigger($4)) w labels left tc rgbcolor "#7f3fff" point lc rgbcolor "#7f3fff" pt 7 ps 1 offset .5,-.25 notitle

unset multiplot
set output


# L'activité journalière sur le topic COVID-19

unset multiplot
reset session
reset
set encoding utf8
set terminal svg size 1600, 900 dynamic mouse jsdir "" name "graph_activity_per_day_20200506022617" font "Verdana,Arial,Sans-serif,Helvetica,14" dashlength 2 linewidth 1 background "#ffffff"
set output "graph_activity_per_day_20200506022617.svg"
set title "{/:Bold=18 L'activité journalière sur le topic COVID-19\n{/:Bold=14 (données collectées le mercredi 6 mai 2020 à 2:26:17)"
set ylabel "{/=16 le nombre de posts par jour"
set y2label "{/=16 le nombre de posts roses et de participants par jour"
set key at 1579608000, 10000 center left Left opaque reverse invert samplen 3 box spacing 1.2 width -6
set xtics 1579478400, 604800
set xtics add ("lundi\n20/01/20" 1579478400, "lundi\n27/01/20" 1580083200, "lundi\n03/02/20" 1580688000, "lundi\n10/02/20" 1581292800, "lundi\n17/02/20" 1581897600, "lundi\n24/02/20" 1582502400, "lundi\n02/03/20" 1583107200, "lundi\n09/03/20" 1583712000, "lundi\n16/03/20" 1584316800, "lundi\n23/03/20" 1584921600, "lundi\n30/03/20" 1585526400, "lundi\n06/04/20" 1586131200, "lundi\n13/04/20" 1586736000, "lundi\n20/04/20" 1587340800, "lundi\n27/04/20" 1587945600, "lundi\n04/05/20" 1588550400)
set mxtics 7
set ytics 0, 1000
set mytics 2
set y2tics 0, 100
set link y2 via y / 10 inverse y * 10
set grid xtics mxtics ytics mytics back lc "#3f3f3f", lc "#9f9f9f"
set style fill transparent solid .4 noborder

set size 1,.97
set origin 0,.03

minus(s) = sprintf("{/:Bold=12 %.f", s)
plus(s) = sprintf("{/:Bold=12 +%.f", s)

plot [1579478400:1588723200][0:11000] \
"data_activity_per_day_20200506022617.txt" u 1:4:($4-$5) axes x1y2 w filledcurves lw 2 lc rgbcolor "#9f9fff" title "{/:Bold le nombre de nouveaux participants par jour", \
"data_activity_per_day_20200506022617.txt" u 1:4 axes x1y2 w lines lw 2 lc rgbcolor "#7f5fff" title "{/:Bold le nombre de participants par jour", \
"data_activity_per_day_20200506022617.txt" u 1:3 axes x1y2 w lines lw 2 lc rgbcolor "#3faf3f" title "{/:Bold le nombre de posts roses par jour", \
"data_activity_per_day_20200506022617.txt" u 1:2 w lines lw 2 lc rgbcolor "#ff7f00" title "{/:Bold le nombre de posts par jour", \
"data_activity_per_day_20200506022617.txt" every 3::4 u 1:($4-$5):(plus($5)) axes x1y2 w labels center tc rgbcolor "#7f5fff" point lc rgbcolor "#7f5fff" pt 7 ps .5 offset -.5,-1.125 notitle, \
"data_activity_per_day_20200506022617.txt" every 3::1 u 1:4:(minus($4)) axes x1y2 w labels center tc rgbcolor "#7f5fff" point lc rgbcolor "#7f5fff" pt 7 ps .5 offset -.5,1 notitle, \
"data_activity_per_day_20200506022617.txt" u 1:($3>9?$3:1/0):(minus($3)) axes x1y2 w labels center tc rgbcolor "#3faf3f" point lc rgbcolor "#3faf3f" pt 7 ps .5 offset -.5,.5 notitle, \
"data_activity_per_day_20200506022617.txt" u 1:($2>10000?$2:1/0):(minus($2)) w labels center tc rgbcolor "#ff7f00" point lc rgbcolor "#ff7f00" pt 7 ps .5 offset -.5,1 notitle

set output


# L'activité hebdomadaire sur le topic COVID-19

unset multiplot
reset session
reset
set encoding utf8
set terminal svg size 1600, 900 dynamic mouse jsdir "" name "graph_activity_per_week_20200506022617" font "Verdana,Arial,Sans-serif,Helvetica,14" dashlength 2 linewidth 1 background "#ffffff"
set output "graph_activity_per_week_20200506022617.svg"
set title "{/:Bold=18 L'activité hebdomadaire sur le topic COVID-19\n{/:Bold=14 (données collectées le mercredi 6 mai 2020 à 2:26:17)"
set ylabel "{/=16 le nombre de posts par semaine"
set y2label "{/=16 le nombre de posts roses et de participants par semaine"
set key at 1579305600, 45000 center left Left opaque reverse invert samplen 3 box spacing 1.2 width -5.5
set xtics 1579478400, 604800
set xtics add ("semaine 4\n20/01/20" 1579478400, "semaine 5\n27/01/20" 1580083200, "semaine 6\n03/02/20" 1580688000, "semaine 7\n10/02/20" 1581292800, "semaine 8\n17/02/20" 1581897600, "semaine 9\n24/02/20" 1582502400, "semaine 10\n02/03/20" 1583107200, "semaine 11\n09/03/20" 1583712000, "semaine 12\n16/03/20" 1584316800, "semaine 13\n23/03/20" 1584921600, "semaine 14\n30/03/20" 1585526400, "semaine 15\n06/04/20" 1586131200, "semaine 16\n13/04/20" 1586736000, "semaine 17\n20/04/20" 1587340800, "semaine 18\n27/04/20" 1587945600)
set ytics 0, 10000
set mytics 5
set y2tics 0, 500
set link y2 via y / 20 inverse y * 20
set grid xtics mxtics ytics mytics back lc "#3f3f3f", lc "#9f9f9f"
set style fill transparent solid .4 noborder

set size 1,.97
set origin 0,.03

minus(s) = sprintf("{/:Bold=12 %.f", s)
plus(s) = sprintf("{/:Bold=12 +%.f", s)

plot [1579176000:1588248000][0:50000] \
"data_activity_per_week_20200506022617.txt" u 1:4:($4-$5) axes x1y2 w filledcurves lw 2 lc rgbcolor "#9f9fff" title "{/:Bold le nombre de nouveaux participants par semaine", \
"data_activity_per_week_20200506022617.txt" u 1:4 axes x1y2 w lines lw 2 lc rgbcolor "#7f5fff" title "{/:Bold le nombre de participants par semaine", \
"data_activity_per_week_20200506022617.txt" u 1:3 axes x1y2 w lines lw 2 lc rgbcolor "#3faf3f" title "{/:Bold le nombre de posts roses par semaine", \
"data_activity_per_week_20200506022617.txt" u 1:2 w lines lw 2 lc rgbcolor "#ff7f00" title "{/:Bold le nombre de posts par semaine", \
"data_activity_per_week_20200506022617.txt" every 1::1 u 1:($4-$5):(plus($5)) axes x1y2 w labels left tc rgbcolor "#7f5fff" point lc rgbcolor "#7f5fff" pt 7 ps .5 offset .3,-.2 notitle, \
"data_activity_per_week_20200506022617.txt" u 1:4:(minus($4)) axes x1y2 w labels center tc rgbcolor "#7f5fff" point lc rgbcolor "#7f5fff" pt 7 ps .5 offset -.5,1 notitle, \
"data_activity_per_week_20200506022617.txt" u 1:3:(minus($3)) axes x1y2 w labels center tc rgbcolor "#3faf3f" point lc rgbcolor "#3faf3f" pt 7 ps .5 offset -.5,.5 notitle, \
"data_activity_per_week_20200506022617.txt" u ($1==1580083200?$1:1/0):2:(minus($2)) w labels left tc rgbcolor "#ff7f00" point lc rgbcolor "#ff7f00" pt 7 ps .5 offset .5,.1 notitle, \
"data_activity_per_week_20200506022617.txt" u ($1!=1580083200?$1:1/0):2:(minus($2)) w labels left tc rgbcolor "#ff7f00" point lc rgbcolor "#ff7f00" pt 7 ps .5 offset .5,-.8 notitle

set output


